<!DOCTYPE html>
<html>

<head>
	<title></title>
	<meta name="description" content="A-Frame Examples">
        <script src="https://cdn.jsdelivr.net/gh/mmonahan333/ICU/dist/aframe-master.js"></script>


<style>
    
#loadingClass
    {
      position: fixed;
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      opacity: 0.7;
      background-color: #fff;
      z-index: 99;
    }

#loadingImage
    {
      z-index: 100;
    }

.mainUI
{
	position: fixed; 
	top: 0px;  
	width:100%; height:100%; 
	z-index: 1; 
	pointer-events: none; /* allow click-through in transparent areas */
	display: flex;
	align-items: center;
  	justify-content: center;
}

.regionUI
{
	position: absolute; 
	display: flex;
	flex-direction: row;
	pointer-events: none;
}

.buttonUI
{
	display: flex;
	flex-direction: column;
	justify-content: center;
	pointer-events: auto;
}
</style>
</head>

<body>

<!-- div used for enter button (user interaction to trigger audio) and fade-in -->

<div id="loadingClass">
  <img id="loadingImage" src="https://cdn.jsdelivr.net/gh/mmonahan333/ICU/images/Spinner-2.gif" alt="Loading..." />
</div>

 <div class="mainUI" id="uiDiv" oncontextmenu="return false;">
	<div class="regionUI">
		<div class="buttonUI">
    	<img src="https://cdn.jsdelivr.net/gh/mmonahan333/ICU/images/buttons/enter.png" id="buttonEnter" />
		</div>
	</div>
</div>

<script>


// runs when user clicks button
AFRAME.registerComponent('start', 
{
	init: function()
	{
        // this.el.AddEventListener("loaded");
        
        // get rid of loading screen
        let loadingScreen = document.getElementById("loadingClass");
        loadingScreen.style["visibility"] = "hidden";
       loadingScreen.style["transition"] = "visibility 10000ms linear";
        
		// block pointer events until buttonEnter is clicked
		let uiDiv = document.getElementById("uiDiv");
		uiDiv.style["pointer-events"] = "auto";

		// set up background blocker
		uiDiv.style["background-color"] = "rgba(0, 0, 0, 1)";


		// indicate clickable with hand cursor (desktop)
		let buttonEnter = document.getElementById("buttonEnter");
		buttonEnter.style.cursor = "pointer";

		// fade-in functionality
		let fadeIn = function()
		{
			// allow point events again
			uiDiv.style["pointer-events"] = "none";

			// sounds can only be triggered after a mouse interaction
			let soundPlayer1 = document.querySelector("#audio1play");
			soundPlayer1.components.sound.playSound();
            let soundPlayer2 = document.querySelector("#audio2play");
            soundPlayer2.components.sound.playSound();
            let soundPlayer3 = document.querySelector("#audio3play");
            soundPlayer3.components.sound.playSound();
            let soundPlayer4 = document.querySelector("#audio4play");
            soundPlayer4.components.sound.playSound();
            let soundPlayer5 = document.querySelector("#audio5play");
            soundPlayer5.components.sound.playSound();
            let soundPlayer6 = document.querySelector("#audio6play");
            soundPlayer6.components.sound.playSound();
            let soundPlayer7 = document.querySelector("#audio7play");
            soundPlayer7.components.sound.playSound();
            let soundPlayer8 = document.querySelector("#audio8play");
            soundPlayer8.components.sound.playSound();

			// remove startButton
			buttonEnter.parentNode.remove(buttonEnter);
            
            //play video
            document.getElementById('video1').play();
            document.getElementById('video2').play();
            document.getElementById('video3').play();
            document.getElementById('video4').play();
            document.getElementById('video5').play();
            document.getElementById('video6').play();
            document.getElementById('video7').play();
            document.getElementById('video8').play();
            document.getElementById('video9').play();
            document.getElementById('video10').play();

			// fade out uiDiv background
			uiDiv.style["background-color"] = "rgba(0, 0, 0, 0.0)";
    		uiDiv.style["transition"] = "background-color 10ms linear";

		}

		// activate for desktop/touchscreen
		buttonEnter.addEventListener('touchstart', fadeIn);
		buttonEnter.addEventListener('mousedown',  fadeIn);
	}
});
</script>


<a-scene loading-screen="dotsColor: white; backgroundColor: black" background="color: black" start>
	  
      <a-assets timeout="10000">
        <audio id="audio1" src="https://cdn.jsdelivr.net/gh/mmonahan333/ICU/assets/audio/1.ogg" crossOrigin="anonymous" preload="auto"></audio>
        <audio id="audio2" src="https://cdn.jsdelivr.net/gh/mmonahan333/ICU/assets/audio/2.ogg" crossOrigin="anonymous" preload="auto"></audio>
        <audio id="audio3" src="https://cdn.jsdelivr.net/gh/mmonahan333/ICU/assets/audio/3.ogg" crossOrigin="anonymous" preload="auto"></audio>
        <audio id="audio4" src="https://cdn.jsdelivr.net/gh/mmonahan333/ICU/assets/audio/4.ogg" crossOrigin="anonymous" preload="auto"></audio>
        <audio id="audio5" src="https://cdn.jsdelivr.net/gh/mmonahan333/ICU/assets/audio/5.ogg" crossOrigin="anonymous" preload="auto"></audio>
        <audio id="audio6" src="https://cdn.jsdelivr.net/gh/mmonahan333/ICU/assets/audio/6.ogg" crossOrigin="anonymous" preload="auto"></audio>
        <audio id="audio7" src="https://cdn.jsdelivr.net/gh/mmonahan333/ICU/assets/audio/7.ogg" crossOrigin="anonymous" preload="auto"></audio>
        <audio id="audio8" src="https://cdn.jsdelivr.net/gh/mmonahan333/ICU/assets/audio/8.ogg" crossOrigin="anonymous" preload="auto"></audio>
        <video id="video1" preload="auto"
               src="https://cdn.jsdelivr.net/gh/mmonahan333/ICU/assets/ICU_1.mp4"
               width="160" height="90" autoplay loop="true"
               crossOrigin="anonymous" muted></video>
        <video id="video2" preload="auto"
               src="https://cdn.jsdelivr.net/gh/mmonahan333/ICU/assets/ICU_2.mp4"
               width="160" height="90" autoplay loop="true"
               crossOrigin="anonymous" muted></video>
        <video id="video3" preload="auto"
               src="https://cdn.jsdelivr.net/gh/mmonahan333/ICU/assets/ICU_3.mp4"
               width="160" height="90" autoplay loop="true"
               crossOrigin="anonymous" muted></video>
        <video id="video4" preload="auto"
               src="https://cdn.jsdelivr.net/gh/mmonahan333/ICU/assets/ICU_4.mp4"
               width="160" height="90" autoplay loop="true"
               crossOrigin="anonymous" muted></video>
        <video id="video5" preload="auto"
               src="https://cdn.jsdelivr.net/gh/mmonahan333/ICU/assets/ICU_5.mp4"
               width="160" height="90" autoplay loop="true"
               crossOrigin="anonymous" muted></video>
        <video id="video6" preload="auto"
               src="https://cdn.jsdelivr.net/gh/mmonahan333/ICU/assets/ICU_6.mp4"
               width="160" height="90" autoplay loop="true"
               crossOrigin="anonymous" muted></video>
        <video id="video7" preload="auto"
               src="https://cdn.jsdelivr.net/gh/mmonahan333/ICU/assets/ICU_7.mp4"
               width="160" height="90" autoplay loop="true"
               crossOrigin="anonymous" muted></video>
        <video id="video8" preload="auto"
               src="https://cdn.jsdelivr.net/gh/mmonahan333/ICU/assets/ICU_8.mp4"
               width="160" height="90" autoplay loop="true"
               crossOrigin="anonymous" muted></video>
        <video id="video9" preload="auto"
               src="https://cdn.jsdelivr.net/gh/mmonahan333/ICU/assets/ICU_9.mp4"
               width="160" height="90" autoplay loop="true"
               crossOrigin="anonymous" muted></video>
        <video id="video10" preload="auto"
               src="https://cdn.jsdelivr.net/gh/mmonahan333/ICU/assets/ICU_10.mp4"
               width="160" height="90" autoplay loop="true"
               crossOrigin="anonymous" muted></video>
      </a-assets>
	
	<a-entity id="camera" camera look-controls position="0 0 0" ></a-entity>
	
	<a-entity id="audio1play" sound="src: #audio1; loop: true;" position="-8 0 -12" rotation="0 -315 0"></a-entity>
    
    <a-entity id="audio2play" sound="src: #audio2; loop: true;" position="0 0 -12" rotation="0 0 0"></a-entity>
    
    <a-entity id="audio3play" sound="src: #audio3; loop: true;" position="8 0 -12" rotation="0 -45 0"></a-entity>
    
    <a-entity id="audio4play" sound="src: #audio4; loop: true;" position="8 0 0" rotation="0 -90 0"></a-entity>
    
    <a-entity id="audio5play" sound="src: #audio5; loop: true;" position="8 0 12" rotation="0 -135 0"></a-entity>
    
    <a-entity id="audio6play" sound="src: #audio6; loop: true;" position="0 0 12" rotation="0 -180 0"></a-entity>
    
    <a-entity id="audio7play" sound="src: #audio7; loop: true;" position="-8 0 12" rotation="0 -225 0"></a-entity>
    
    <a-entity id="audio8play" sound="src: #audio8; loop: true;" position="-8 0 0" rotation="0 -270 0"></a-entity>
    
    <a-entity
              material="shader: flat; src: #video1"
              geometry="primitive: plane; width: 160; height: 90;"
              position="-160 0 -240"
              rotation="0 0 0"
              visible="true">
    </a-entity>
    
    <a-entity material="shader: flat; src: #video2"
              geometry="primitive: plane; width: 160; height: 90"
              position="0 0 -240"
              rotation="0 0 0"
              visible="true">
    </a-entity>
    
    <a-entity material="shader: flat; src: #video3"
              geometry="primitive: plane; width: 160; height: 90"
              position="80 0 -160"
              rotation="0 -90 0"
              visible="true">
    </a-entity>
    
      <a-entity material="shader: flat; src: #video4"
              geometry="primitive: plane; width: 160; height: 90"
              position="80 0 0"
              rotation="0 -90 0"
              visible="true">
    </a-entity>
    
      <a-entity material="shader: flat; src: #video5"
              geometry="primitive: plane; width: 160; height: 90"
              position="80 0 160"
              rotation="0 -90 0"
              visible="true">
    </a-entity>
    
     <a-entity material="shader: flat; src: #video6"
              geometry="primitive: plane; width: 160; height: 90"
              position="0 0 240"
              rotation="0 -180 0"
              visible="true">
    </a-entity>
    
    <a-entity material="shader: flat; src: #video7"
              geometry="primitive: plane; width: 160; height: 90"
              position="-160 0 240"
              rotation="0 -180 0"
              visible="true">
    </a-entity>
    
    <a-entity material="shader: flat; src: #video8"
              geometry="primitive: plane; width: 160; height: 90"
              position="-240 0 160"
              rotation="0 -270 0"
              visible="true">
    </a-entity>
    
    <a-entity material="shader: flat; src: #video9"
              geometry="primitive: plane; width: 160; height: 90"
              position="-240 0 0"
              rotation="0 -270 0"
              visible="true">
    </a-entity>
    
    <a-entity material="shader: flat; src: #video10"
              geometry="primitive: plane; width: 160; height: 90"
              position="-240 0 -160"
              rotation="0 -270 0"
              visible="true">
    </a-entity>
	

</a-scene>

</body>
</html>
